<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Standing CARA√èBES RENT' - Guadeloupe</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <header>
        <div class="header-brand">
            <h1>STANDING CARA√èBES RENT'</h1>
            <img src="Images/logo2.png" alt="Logo Standing Cara√Øbes" class="logo-img">
        </div>

        <nav>
            <ul>
                <li><a href="#presentation">Accueil</a></li>
                <li><a href="#location-vehicules">Location V√©hicules</a></li>
                <li><a href="html/excursions.html">Excursions Bateau</a></li>
                <li><a href="html/evenementiel.html">√âv√©nementiel</a></li>
                <li><a href="#produits-locaux">Produits Locaux</a></li>
                <li><a href="html/panier.html" style="color:#ffd700;">üõí Mon Panier</a></li>
            </ul>
        </nav>
    </header>

    <section id="presentation">
        <h2>Votre partenaire pour des vacances inoubliables</h2>
        
        <div class="presentation-container">
            <div class="presentation-text">
                <h1>D√©couvrez la Guadeloupe</h1>
                <p>Entreprise familiale guadeloup√©enne, nous vous ouvrons les portes des tr√©sors cach√©s de notre √Æle paradisiaque. Notre connaissance intime du territoire, transmise de g√©n√©ration en g√©n√©ration, nous permet de cr√©er pour vous des exp√©riences inoubliables et sur-mesure.</p>
                <h1>Votre satisfaction, notre priorit√© absolue</h1>
                <p>Gr√¢ce √† notre professionnalisme reconnu et notre rigueur sans faille, nous vous garantissons des prestations d'excellence du premier contact jusqu'√† la fin de votre s√©jour. Vivez la Guadeloupe comme vous ne l'avez jamais imagin√©e !</p>
            </div>
            <div class="presentation-image">
                <img src="Images/ile-dom-tom-guadeloupe-1080x675.webp" alt="Pr√©sentation Standing Cara√Øbes">
            </div>
        </div>
    </section>

    <section id="location-vehicules">
        <h2>Location de v√©hicules - SUV</h2>
        <div class="liste-vehicules">
            
            <div class="vehicule-card" data-nom="Renault Arkana" data-prix="60">
                <img src="Images/SUV1.jpg" alt="Renault Arkana">
                <h3>Renault Arkana</h3>
                <p>Type : SUV</p>
                
                <div class="reservation-module">
                    <label>S√©lectionnez vos dates :</label>
                    <div class="date-group">
                        <div class="date-item">
                            <label>D√©part :</label>
                            <input type="date" class="date-debut" required onkeydown="return false">
                        </div>
                        <div class="date-item">
                            <label>Retour :</label>
                            <input type="date" class="date-fin" required onkeydown="return false">
                        </div>
                    </div>
                    <p>Prix : <span class="prix-display">0 ‚Ç¨</span></p>
                    <button class="btn-reserver">R√©server</button>
                </div>
                <div class="commentaires"><h4>Caract√©ristiques</h4><p>Climatisation, GPS, Auto.</p></div>
            </div>

            <div class="vehicule-card" data-nom="Renault Kadjar" data-prix="50">
                <img src="Images/SUV1.jpg" alt="Renault Kadjar">
                <h3>Renault Kadjar</h3>
                <p>Type : SUV</p>
                
                <div class="reservation-module">
                    <label>S√©lectionnez vos dates :</label>
                    <div class="date-group">
                        <div class="date-item">
                            <label>D√©part :</label>
                            <input type="date" class="date-debut" required onkeydown="return false">
                        </div>
                        <div class="date-item">
                            <label>Retour :</label>
                            <input type="date" class="date-fin" required onkeydown="return false">
                        </div>
                    </div>
                    <p>Prix : <span class="prix-display">0 ‚Ç¨</span></p>
                    <button class="btn-reserver">R√©server</button>
                </div>
                <div class="commentaires"><h4>Caract√©ristiques</h4><p>Diesel, 5 Places.</p></div>
            </div>

            <div class="vehicule-card" data-nom="Peugeot 3008" data-prix="55">
                <img src="Images/SUV1.jpg" alt="Peugeot 3008">
                <h3>Peugeot 3008</h3>
                <p>Type : SUV</p>
                
                <div class="reservation-module">
                    <label>S√©lectionnez vos dates :</label>
                    <div class="date-group">
                        <div class="date-item">
                            <label>D√©part :</label>
                            <input type="date" class="date-debut" required onkeydown="return false">
                        </div>
                        <div class="date-item">
                            <label>Retour :</label>
                            <input type="date" class="date-fin" required onkeydown="return false">
                        </div>
                    </div>
                    <p>Prix : <span class="prix-display">0 ‚Ç¨</span></p>
                    <button class="btn-reserver">R√©server</button>
                </div>
                <div class="commentaires"><h4>Caract√©ristiques</h4><p>Toit panoramique.</p></div>
            </div>

        </div>
    </section>

    <footer>
        <p>&copy; 2025 Standing CARA√èBES RENT'. Tous droits r√©serv√©s.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            // 1. On s√©lectionne toutes les voitures
            const cartes = document.querySelectorAll('.vehicule-card');

            // 2. On boucle sur chaque voiture
            cartes.forEach(function(carte) {
                
                // On r√©cup√®re le prix sp√©cifique de LA voiture (depuis data-prix)
                const prixParJour = parseInt(carte.getAttribute('data-prix'));
                const nomVehicule = carte.getAttribute('data-nom');
                
                // On cherche les inputs √Ä L'INT√âRIEUR de cette carte uniquement
                const debutInput = carte.querySelector('.date-debut');
                const finInput = carte.querySelector('.date-fin');
                const afficheurPrix = carte.querySelector('.prix-display');
                const bouton = carte.querySelector('.btn-reserver');
                
                let prixFinal = 0;

                // Fonction de calcul
                function calculer() {
                    if (debutInput.value && finInput.value) {
                        const d1 = new Date(debutInput.value);
                        const d2 = new Date(finInput.value);
                        const diff = d2 - d1;
                        let jours = Math.ceil(diff / (1000 * 60 * 60 * 24));

                        if (jours < 1) jours = 1; // Minimum 1 jour

                        prixFinal = jours * prixParJour;
                        afficheurPrix.textContent = prixFinal + " ‚Ç¨";
                        afficheurPrix.style.color = "#0056b3";
                        afficheurPrix.style.fontWeight = "bold";
                    } else {
                        prixFinal = 0;
                        afficheurPrix.textContent = "0 ‚Ç¨";
                    }
                }

                // Ecouteurs sur les dates
                debutInput.addEventListener('change', function() {
                    finInput.min = this.value;
                    calculer();
                });
                finInput.addEventListener('change', calculer);

                // Clic sur R√©server
                bouton.addEventListener('click', function() {
                    if (prixFinal > 0 && debutInput.value && finInput.value) {
                        
                        const commande = {
                            titre: nomVehicule,
                            debut: debutInput.value,
                            fin: finInput.value,
                            prixTotal: prixFinal
                        };

                        let panier = JSON.parse(localStorage.getItem('monPanier')) || [];
                        panier.push(commande);
                        localStorage.setItem('monPanier', JSON.stringify(panier));

                        // Redirection
                        window.location.href = 'html/panier.html';
                    } else {
                        alert("Veuillez s√©lectionner des dates valides.");
                    }
                });
            });
        });
    </script>
</body>
</html>